from buzzer_music import music
import utime
import _thread

musicPlaying = False
mySong = None

def musicThread():
    global mySong
    global musicPlaying
    
    while True:
        utime.sleep(0.04)
        if (not musicPlaying):
            mySong.stop()
            del mySong
            break
        
        try:
            mySong.tick()
        except Exception:
            pass

#Optional metadata for main menu
class description:
    name = "Demo"
    #32x32 Horizonal - 1 bit per pixel (https://javl.github.io/image2cpp/)
    thumbnail = bytearray(b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e\x18\xd8\x60\x09\x21\x24\x90\x09\x21\x24\x90\x09\x39\x24\x90\x09\x21\x04\x90\x09\x21\x04\x90\x09\x21\x04\x90\x0e\x19\x04\x60\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xc0\x00\x00\x13\xc8\x00\x00\x3e\x7e\x00\x00\xfe\x7f\x00\x00\x61\x86\x00\x00\x77\xee\x00\x01\xee\x77\x80\x01\xcc\x33\x80\x01\xcc\x33\x80\x01\xee\x77\x80\x00\x77\xee\x00\x00\x61\x86\x00\x00\xfe\x7f\x00\x00\x7e\x7e\x00\x00\x13\xc8\x00\x00\x03\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00")

#Required class named 'creation'
class creation:
    def __init__(self, display, controller, *args): #Required init method in creation class
        global mySong
        global musicPlaying
        self.frame = 0
        self.display = display
        self.controller = controller
        
        #Init music
        song = '200 C7 8 0;208 D7 2 0;210 C7 2 0;212 A#6 2 0;214 G6 4 0;218 A#6 2 0;220 D7 4 0;224 C#7 16 0;240 C7 16 0;264 C7 8 0;272 D7 2 0;274 C7 2 0;276 A#6 2 0;278 G6 4 0;282 A#6 2 0;284 D7 4 0;288 C#7 12 0;300 C7 2 0;302 C#7 2 0;304 D#7 16 0;320 F6 4 0;324 D#6 2 0;326 D6 2 0;328 D#6 4 0;332 D6 2 0;334 C6 2 0;336 D6 2 0;338 C6 2 0;340 A#5 2 0;342 C6 2 0;344 D6 4 0;348 C6 2 0;350 A#5 2 0;352 C#6 8 0;360 A#5 8 0;368 D#6 2 0;370 D6 2 0;372 C6 2 0;374 A#5 2 0;376 C6 8 0;384 F6 4 0;388 D#6 2 0;390 D6 2 0;392 D#6 4 0;396 D6 2 0;398 C6 2 0;400 D6 2 0;402 C6 2 0;404 A#5 2 0;406 C6 2 0;408 D6 4 0;412 C6 2 0;414 A#5 2 0;416 C#6 4 0;420 C6 2 0;422 C#6 2 0;424 C6 2 0;426 C#6 2 0;428 A#5 2 0;430 C#6 2 0;432 C6 16 0;456 C7 8 0;464 D7 2 0;466 C7 2 0;468 A#6 2 0;470 G6 4 0;474 A#6 2 0;476 D7 4 0;480 C#7 16 0;496 C7 16 0;520 C7 8 0;528 D7 2 0;530 C7 2 0;532 A#6 2 0;534 G6 4 0;538 A#6 2 0;540 D7 4 0;544 C#7 16 0;560 C7 16 0;600 A#5 2 0;602 C6 2 0;604 C#6 4 0;608 C6 16 0;632 C#6 2 0;634 C6 2 0;636 C#6 4 0;640 C6 16 0;656 D#6 2 0;664 A#5 2 0;666 C6 2 0;668 C#6 4 0;672 C6 16 0;688 A#5 2 0;696 C#6 2 0;698 C6 2 0;700 C#6 4 0;768 D#7 16 0;784 D7 16 0;800 F7 16 0;816 D#7 16 0;904 C7 8 0;912 D7 2 0;914 C7 2 0;916 A#6 2 0;918 G6 4 0;922 A#6 2 0;924 D7 4 0;928 C#7 16 0;944 C7 16 0;968 C7 8 0;976 D7 2 0;978 C7 2 0;980 A#6 2 0;982 G6 4 0;986 A#6 2 0;988 D7 4 0;992 C#7 12 0;1004 C7 2 0;1006 C#7 2 0;1008 D#7 16 0;1024 F6 4 0;1028 D#6 2 0;1030 D6 2 0;1032 D#6 4 0;1036 D6 2 0;1038 C6 2 0;1040 D6 2 0;1042 C6 2 0;1044 A#5 2 0;1046 C6 2 0;1048 D6 4 0;1052 C6 2 0;1054 A#5 2 0;1056 C#6 8 0;1064 A#5 8 0;1072 D#6 2 0;1074 D6 2 0;1076 C6 2 0;1078 A#5 2 0;1080 C6 8 0;1088 F6 4 0;1092 D#6 2 0;1094 D6 2 0;1096 D#6 4 0;1100 D6 2 0;1102 C6 2 0;1104 D6 2 0;1106 C6 2 0;1108 A#5 2 0;1110 C6 2 0;1112 D6 4 0;1116 C6 2 0;1118 A#5 2 0;1120 C#6 4 0;1124 C6 2 0;1126 C#6 2 0;1128 C6 2 0;1130 C#6 2 0;1132 A#5 2 0;1134 C#6 2 0;1136 C6 16 0;64 G5 12 0;64 D#5 12 0;80 A#5 12 0;80 D5 12 0;96 F5 12 0;96 C#5 12 0;112 G5 12 0;112 C5 12 0;128 D#6 2 0;130 G#5 2 0;132 C6 2 0;134 D#6 2 0;136 G#5 2 0;138 C6 2 0;140 D#6 2 0;142 C6 2 0;144 D6 2 0;146 G5 2 0;148 A#5 2 0;150 D6 2 0;152 G5 2 0;154 A#5 2 0;156 D6 2 0;158 A#5 2 0;160 C#6 2 0;162 F5 2 0;164 A#5 2 0;166 C#6 2 0;168 F5 2 0;170 A#5 2 0;172 C#6 2 0;174 A#5 2 0;176 C6 2 0;178 G5 2 0;180 A#5 2 0;182 C6 2 0;184 G5 2 0;186 A#5 2 0;188 C6 2 0;190 A#5 2 0;192 D#6 2 0;194 G#5 2 0;196 C6 2 0;198 D#6 2 0;200 G#5 2 0;202 C6 2 0;204 D#6 2 0;206 C6 2 0;208 D6 2 0;210 G5 2 0;212 A#5 2 0;214 D6 2 0;216 G5 2 0;218 A#5 2 0;220 D6 2 0;222 A#5 2 0;224 C#6 2 0;226 F5 2 0;228 A#5 2 0;230 C#6 2 0;232 F5 2 0;234 A#5 2 0;236 C#6 2 0;238 A#5 2 0;240 C6 2 0;242 G5 2 0;244 A#5 2 0;246 C6 2 0;248 G5 2 0;250 A#5 2 0;252 C6 2 0;254 A#5 2 0;256 D#6 2 0;258 G#5 2 0;260 C6 2 0;262 D#6 2 0;264 G#5 2 0;266 C6 2 0;268 D#6 2 0;270 C6 2 0;272 D6 2 0;274 G5 2 0;276 A#5 2 0;278 D6 2 0;280 G5 2 0;282 A#5 2 0;284 D6 2 0;286 A#5 2 0;288 C#6 2 0;290 F5 2 0;292 A#5 2 0;294 C#6 2 0;296 F5 2 0;298 A#5 2 0;300 C#6 2 0;302 A#5 2 0;304 C6 2 0;306 G5 2 0;308 A#5 2 0;310 C6 2 0;312 G5 2 0;314 A#5 2 0;316 C6 2 0;318 A#5 2 0;320 G#5 8 0;328 D#5 8 0;336 G5 8 0;344 D5 8 0;352 F5 8 0;360 C#5 8 0;368 D#5 8 0;376 G5 8 0;384 G#5 8 0;392 D#5 8 0;400 G5 8 0;408 D5 8 0;416 F5 8 0;424 C#5 8 0;432 D#5 8 0;440 C5 8 0;448 D#6 2 0;450 G#5 2 0;452 C6 2 0;454 D#6 2 0;456 G#5 2 0;458 C6 2 0;460 D#6 2 0;462 C6 2 0;464 D6 2 0;466 G5 2 0;468 A#5 2 0;470 D6 2 0;472 G5 2 0;474 A#5 2 0;476 D6 2 0;478 A#5 2 0;480 C#6 2 0;482 F5 2 0;484 A#5 2 0;486 C#6 2 0;488 F5 2 0;490 A#5 2 0;492 C#6 2 0;494 A#5 2 0;496 C6 2 0;498 G5 2 0;500 A#5 2 0;502 C6 2 0;504 G5 2 0;506 A#5 2 0;508 C6 2 0;510 A#5 2 0;512 D#6 2 0;514 G#5 2 0;516 C6 2 0;518 D#6 2 0;520 G#5 2 0;522 C6 2 0;524 D#6 2 0;526 C6 2 0;528 D6 2 0;530 G5 2 0;532 A#5 2 0;534 D6 2 0;536 G5 2 0;538 A#5 2 0;540 D6 2 0;542 A#5 2 0;544 C#6 2 0;546 F5 2 0;548 A#5 2 0;550 C#6 2 0;552 F5 2 0;554 A#5 2 0;556 C#6 2 0;558 A#5 2 0;560 C6 2 0;562 G5 2 0;564 A#5 2 0;566 C6 2 0;568 G5 2 0;570 A#5 2 0;572 C6 2 0;574 A#5 2 0;576 C5 4 0;580 G5 2 0;582 D#5 4 0;586 G5 2 0;588 F5 4 0;592 D#5 2 0;596 A#4 12 0;608 C5 4 0;612 G5 2 0;614 D#5 4 0;618 G5 2 0;620 D#5 4 0;624 F5 2 0;628 A#4 12 0;640 D#5 16 0;656 G5 2 0;664 F5 2 0;666 G5 2 0;668 G#5 4 0;672 G5 16 0;696 G#5 2 0;698 G5 2 0;700 G#5 4 0;704 D#6 2 0;706 G#5 2 0;708 C6 2 0;710 D#6 2 0;712 G#5 2 0;714 C6 2 0;716 D#6 2 0;718 C6 2 0;720 D6 2 0;722 G5 2 0;724 A#5 2 0;726 D6 2 0;728 G5 2 0;730 A#5 2 0;732 D6 2 0;734 A#5 2 0;736 C#6 2 0;738 F5 2 0;740 A#5 2 0;742 C#6 2 0;744 F5 2 0;746 A#5 2 0;748 C#6 2 0;750 A#5 2 0;752 C6 2 0;754 G5 2 0;756 A#5 2 0;758 C6 2 0;760 G5 2 0;762 A#5 2 0;764 C6 2 0;766 A#5 2 0;768 D#6 2 0;770 G#5 2 0;772 C6 2 0;774 D#6 2 0;776 G#5 2 0;778 C6 2 0;780 D#6 2 0;782 C6 2 0;784 D6 2 0;786 G5 2 0;788 A#5 2 0;790 D6 2 0;792 G5 2 0;794 A#5 2 0;796 D6 2 0;798 A#5 2 0;800 C#6 2 0;802 F5 2 0;804 A#5 2 0;806 C#6 2 0;808 F5 2 0;810 A#5 2 0;812 C#6 2 0;814 A#5 2 0;816 C6 2 0;818 G5 2 0;820 A#5 2 0;822 C6 2 0;824 G5 2 0;826 A#5 2 0;828 C6 2 0;830 A#5 2 0;832 D#6 2 0;834 G#5 2 0;836 C6 2 0;838 D#6 2 0;840 G#5 2 0;842 C6 2 0;844 D#6 2 0;846 C6 2 0;848 D6 2 0;850 G5 2 0;852 A#5 2 0;854 D6 2 0;856 G5 2 0;858 A#5 2 0;860 D6 2 0;862 A#5 2 0;864 C#6 2 0;866 F5 2 0;868 A#5 2 0;870 C#6 2 0;872 F5 2 0;874 A#5 2 0;876 C#6 2 0;878 A#5 2 0;880 C6 2 0;882 G5 2 0;884 A#5 2 0;886 C6 2 0;888 G5 2 0;890 A#5 2 0;892 C6 2 0;894 A#5 2 0;896 D#6 2 0;898 G#5 2 0;900 C6 2 0;902 D#6 2 0;904 G#5 2 0;906 C6 2 0;908 D#6 2 0;910 C6 2 0;912 D6 2 0;914 G5 2 0;916 A#5 2 0;918 D6 2 0;920 G5 2 0;922 A#5 2 0;924 D6 2 0;926 A#5 2 0;928 C#6 2 0;930 F5 2 0;932 A#5 2 0;934 C#6 2 0;936 F5 2 0;938 A#5 2 0;940 C#6 2 0;942 A#5 2 0;944 C6 2 0;946 G5 2 0;948 A#5 2 0;950 C6 2 0;952 G5 2 0;954 A#5 2 0;956 C6 2 0;958 A#5 2 0;960 D#6 2 0;962 G#5 2 0;964 C6 2 0;966 D#6 2 0;968 G#5 2 0;970 C6 2 0;972 D#6 2 0;974 C6 2 0;976 D6 2 0;978 G5 2 0;980 A#5 2 0;982 D6 2 0;984 G5 2 0;986 A#5 2 0;988 D6 2 0;990 A#5 2 0;992 C#6 2 0;994 F5 2 0;996 A#5 2 0;998 C#6 2 0;1000 F5 2 0;1002 A#5 2 0;1004 C#6 2 0;1006 A#5 2 0;1008 C6 2 0;1010 G5 2 0;1012 A#5 2 0;1014 C6 2 0;1016 G5 2 0;1018 A#5 2 0;1020 C6 2 0;1022 A#5 2 0;1024 G#5 8 0;1032 D#5 8 0;1040 G5 8 0;1048 D5 8 0;1056 F5 8 0;1064 C#5 8 0;1072 D#5 8 0;1080 G5 8 0;1088 G#5 8 0;1096 D#5 8 0;1104 G5 8 0;1112 D5 8 0;1120 F5 8 0;1128 C#5 8 0;1136 D#5 8 0;1144 C5 8 0;0 C4 4 0;4 G4 2 0;6 D#4 4 0;10 G4 2 0;12 F4 4 0;16 D#4 2 0;20 A#3 6 0;26 C4 2 0;28 C#4 4 0;32 C4 4 0;36 G4 2 0;38 D#4 4 0;42 G4 2 0;44 D#4 4 0;48 F4 2 0;52 A#3 4 0;56 C#4 2 0;58 C4 2 0;60 C#4 4 0;64 C4 4 0;68 G4 2 0;70 D#4 4 0;74 G4 2 0;76 F4 4 0;80 D#4 2 0;84 A#3 6 0;90 C4 2 0;92 C#4 4 0;96 C4 4 0;100 G4 2 0;102 D#4 4 0;106 G4 2 0;108 D#4 4 0;112 F4 2 0;116 A#3 4 0;120 C#4 2 0;122 C4 2 0;124 C#4 4 0;128 C4 4 0;132 G4 2 0;134 D#4 4 0;138 G4 2 0;140 F4 4 0;144 D#4 2 0;148 A#3 6 0;154 C4 2 0;156 C#4 4 0;160 C4 4 0;164 G4 2 0;166 D#4 4 0;170 G4 2 0;172 D#4 4 0;176 F4 2 0;180 A#3 4 0;184 C#4 2 0;186 C4 2 0;188 C#4 4 0;192 C4 4 0;196 G4 2 0;198 D#4 4 0;202 G4 2 0;204 F4 4 0;208 D#4 2 0;212 A#3 6 0;218 C4 2 0;220 C#4 4 0;224 C4 4 0;228 G4 2 0;230 D#4 4 0;234 G4 2 0;236 D#4 4 0;240 F4 2 0;244 A#3 4 0;248 C#4 2 0;250 C4 2 0;252 C#4 4 0;256 C4 4 0;260 G4 2 0;262 D#4 4 0;266 G4 2 0;268 F4 4 0;272 D#4 2 0;276 A#3 6 0;282 C4 2 0;284 C#4 4 0;288 C4 4 0;292 G4 2 0;294 D#4 4 0;298 G4 2 0;300 D#4 4 0;304 F4 2 0;308 A#3 4 0;312 C#4 2 0;314 C4 2 0;316 C#4 4 0;320 C4 4 0;324 G4 2 0;326 D#4 4 0;330 G4 2 0;332 F4 4 0;336 D#4 2 0;340 A#3 6 0;346 C4 2 0;348 C#4 4 0;352 C4 4 0;356 G4 2 0;358 D#4 4 0;362 G4 2 0;364 D#4 4 0;368 F4 2 0;372 A#3 4 0;376 C#4 2 0;378 C4 2 0;380 C#4 4 0;384 C4 4 0;388 G4 2 0;390 D#4 4 0;394 G4 2 0;396 F4 4 0;400 D#4 2 0;404 A#3 6 0;410 C4 2 0;412 C#4 4 0;416 C4 4 0;420 G4 2 0;422 D#4 4 0;426 G4 2 0;428 D#4 4 0;432 F4 2 0;436 A#3 4 0;440 C#4 2 0;442 C4 2 0;444 C#4 4 0;448 C4 4 0;452 G4 2 0;454 D#4 4 0;458 G4 2 0;460 F4 4 0;464 D#4 2 0;468 A#3 6 0;474 C4 2 0;476 C#4 4 0;480 C4 4 0;484 G4 2 0;486 D#4 4 0;490 G4 2 0;492 D#4 4 0;496 F4 2 0;500 A#3 4 0;504 C#4 2 0;506 C4 2 0;508 C#4 4 0;512 C4 4 0;516 G4 2 0;518 D#4 4 0;522 G4 2 0;524 F4 4 0;528 D#4 2 0;532 A#3 6 0;538 C4 2 0;540 C#4 4 0;544 C4 4 0;548 G4 2 0;550 D#4 4 0;554 G4 2 0;556 D#4 4 0;560 F4 2 0;564 A#3 4 0;568 C#4 2 0;570 C4 2 0;572 C#4 4 0;600 F4 2 0;602 G4 2 0;604 G#4 4 0;608 D#5 16 0;632 G#4 2 0;634 G4 2 0;636 G#4 4 0;640 C5 4 0;644 G5 2 0;646 D#5 4 0;650 G5 2 0;652 F5 4 0;656 D#5 2 0;660 A#4 12 0;672 C5 4 0;676 G5 2 0;678 D#5 4 0;682 G5 2 0;684 D#5 4 0;688 F5 2 0;692 A#4 4 0;696 C#5 2 0;698 C5 2 0;700 C#5 4 0;704 C5 4 0;708 G5 2 0;710 D#5 4 0;714 G5 2 0;716 F5 4 0;720 D#5 2 0;724 A#4 6 0;730 C5 2 0;732 C#5 4 0;736 C5 4 0;740 G5 2 0;742 D#5 4 0;746 G5 2 0;748 D#5 4 0;752 F5 2 0;756 A#4 4 0;760 C#5 2 0;762 C5 2 0;764 C#5 4 0;768 C5 4 0;772 G5 2 0;774 D#5 4 0;778 G5 2 0;780 F5 4 0;784 D#5 2 0;788 A#4 6 0;794 C5 2 0;796 C#5 4 0;800 C5 4 0;804 G5 2 0;806 D#5 4 0;810 G5 2 0;812 D#5 4 0;816 F5 2 0;820 A#4 4 0;824 C#5 2 0;826 C5 2 0;828 C#5 4 0;832 C4 4 0;836 G4 2 0;838 D#4 4 0;842 G4 2 0;844 F4 4 0;848 D#4 2 0;852 A#3 6 0;858 C4 2 0;860 C#4 4 0;864 C4 4 0;868 G4 2 0;870 D#4 4 0;874 G4 2 0;876 D#4 4 0;880 F4 2 0;884 A#3 4 0;888 C#4 2 0;890 C4 2 0;892 C#4 4 0;896 C4 4 0;900 G4 2 0;902 D#4 4 0;906 G4 2 0;908 F4 4 0;912 D#4 2 0;916 A#3 6 0;922 C4 2 0;924 C#4 4 0;928 C4 4 0;932 G4 2 0;934 D#4 4 0;938 G4 2 0;940 D#4 4 0;944 F4 2 0;948 A#3 4 0;952 C#4 2 0;954 C4 2 0;956 C#4 4 0;960 C4 4 0;964 G4 2 0;966 D#4 4 0;970 G4 2 0;972 F4 4 0;976 D#4 2 0;980 A#3 6 0;986 C4 2 0;988 C#4 4 0;992 C4 4 0;996 G4 2 0;998 D#4 4 0;1002 G4 2 0;1004 D#4 4 0;1008 F4 2 0;1012 A#3 4 0;1016 C#4 2 0;1018 C4 2 0;1020 C#4 4 0;1024 C4 4 0;1028 G4 2 0;1030 D#4 4 0;1034 G4 2 0;1036 F4 4 0;1040 D#4 2 0;1044 A#3 6 0;1050 C4 2 0;1052 C#4 4 0;1056 C4 4 0;1060 G4 2 0;1062 D#4 4 0;1066 G4 2 0;1068 D#4 4 0;1072 F4 2 0;1076 A#3 4 0;1080 C#4 2 0;1082 C4 2 0;1084 C#4 4 0;1088 C4 4 0;1092 G4 2 0;1094 D#4 4 0;1098 G4 2 0;1100 F4 4 0;1104 D#4 2 0;1108 A#3 6 0;1114 C4 2 0;1116 C#4 4 0;1120 C4 4 0;1124 G4 2 0;1126 D#4 4 0;1130 G4 2 0;1132 D#4 4 0;1136 F4 2 0;1140 A#3 4 0;1144 C#4 2 0;1146 C4 2 0;1148 C#4 4 0;0 C3 4 0;4 G3 2 0;6 D#3 4 0;10 G3 2 0;12 F3 4 0;16 D#3 2 0;20 A#2 6 0;26 C3 2 0;28 C#3 4 0;32 C3 4 0;36 G3 2 0;38 D#3 4 0;42 G3 2 0;44 D#3 4 0;48 F3 2 0;52 A#2 4 0;56 C#3 2 0;58 C3 2 0;60 C#3 4 0;64 C3 4 0;68 G3 2 0;70 D#3 4 0;74 G3 2 0;76 F3 4 0;80 D#3 2 0;84 A#2 6 0;90 C3 2 0;92 C#3 4 0;96 C3 4 0;100 G3 2 0;102 D#3 4 0;106 G3 2 0;108 D#3 4 0;112 F3 2 0;116 A#2 4 0;120 C#3 2 0;122 C3 2 0;124 C#3 4 0;128 C3 4 0;132 G3 2 0;134 D#3 4 0;138 G3 2 0;140 F3 4 0;144 D#3 2 0;148 A#2 6 0;154 C3 2 0;156 C#3 4 0;160 C3 4 0;164 G3 2 0;166 D#3 4 0;170 G3 2 0;172 D#3 4 0;176 F3 2 0;180 A#2 4 0;184 C#3 2 0;186 C3 2 0;188 C#3 4 0;192 C3 4 0;196 G3 2 0;198 D#3 4 0;202 G3 2 0;204 F3 4 0;208 D#3 2 0;212 A#2 6 0;218 C3 2 0;220 C#3 4 0;224 C3 4 0;228 G3 2 0;230 D#3 4 0;234 G3 2 0;236 D#3 4 0;240 F3 2 0;244 A#2 4 0;248 C#3 2 0;250 C3 2 0;252 C#3 4 0;256 C3 4 0;260 G3 2 0;262 D#3 4 0;266 G3 2 0;268 F3 4 0;272 D#3 2 0;276 A#2 6 0;282 C3 2 0;284 C#3 4 0;288 C3 4 0;292 G3 2 0;294 D#3 4 0;298 G3 2 0;300 D#3 4 0;304 F3 2 0;308 A#2 4 0;312 C#3 2 0;314 C3 2 0;316 C#3 4 0;320 C3 4 0;324 G3 2 0;326 D#3 4 0;330 G3 2 0;332 F3 4 0;336 D#3 2 0;340 A#2 6 0;346 C3 2 0;348 C#3 4 0;352 C3 4 0;356 G3 2 0;358 D#3 4 0;362 G3 2 0;364 D#3 4 0;368 F3 2 0;372 A#2 4 0;376 C#3 2 0;378 C3 2 0;380 C#3 4 0;384 C3 4 0;388 G3 2 0;390 D#3 4 0;394 G3 2 0;396 F3 4 0;400 D#3 2 0;404 A#2 6 0;410 C3 2 0;412 C#3 4 0;416 C3 4 0;420 G3 2 0;422 D#3 4 0;426 G3 2 0;428 D#3 4 0;432 F3 2 0;436 A#2 4 0;440 C#3 2 0;442 C3 2 0;444 C#3 4 0;448 C3 4 0;452 G3 2 0;454 D#3 4 0;458 G3 2 0;460 F3 4 0;464 D#3 2 0;468 A#2 6 0;474 C3 2 0;476 C#3 4 0;480 C3 4 0;484 G3 2 0;486 D#3 4 0;490 G3 2 0;492 D#3 4 0;496 F3 2 0;500 A#2 4 0;504 C#3 2 0;506 C3 2 0;508 C#3 4 0;512 C3 4 0;516 G3 2 0;518 D#3 4 0;522 G3 2 0;524 F3 4 0;528 D#3 2 0;532 A#2 6 0;538 C3 2 0;540 C#3 4 0;544 C3 4 0;548 G3 2 0;550 D#3 4 0;554 G3 2 0;556 D#3 4 0;560 F3 2 0;564 A#2 4 0;568 C#3 2 0;570 C3 2 0;572 C#3 4 0;576 C4 4 0;580 G4 2 0;582 D#4 4 0;586 G4 2 0;588 F4 4 0;592 D#4 2 0;596 A#3 12 0;608 C4 4 0;612 G4 2 0;614 D#4 4 0;618 G4 2 0;620 D#4 4 0;624 F4 2 0;628 A#3 12 0;640 C4 4 0;644 G4 2 0;646 D#4 4 0;650 G4 2 0;652 F4 4 0;656 D#4 2 0;660 A#3 12 0;672 C4 4 0;676 G4 2 0;678 D#4 4 0;682 G4 2 0;684 D#4 4 0;688 F4 2 0;692 A#3 4 0;696 C#4 2 0;698 C4 2 0;700 C#4 4 0;704 C4 4 0;708 G4 2 0;710 D#4 4 0;714 G4 2 0;716 F4 4 0;720 D#4 2 0;724 A#3 6 0;730 C4 2 0;732 C#4 4 0;736 C4 4 0;740 G4 2 0;742 D#4 4 0;746 G4 2 0;748 D#4 4 0;752 F4 2 0;756 A#3 4 0;760 C#4 2 0;762 C4 2 0;764 C#4 4 0;768 C4 4 0;772 G4 2 0;774 D#4 4 0;778 G4 2 0;780 F4 4 0;784 D#4 2 0;788 A#3 6 0;794 C4 2 0;796 C#4 4 0;800 C4 4 0;804 G4 2 0;806 D#4 4 0;810 G4 2 0;812 D#4 4 0;816 F4 2 0;820 A#3 4 0;824 C#4 2 0;826 C4 2 0;828 C#4 4 0;832 C3 4 0;836 G3 2 0;838 D#3 4 0;842 G3 2 0;844 F3 4 0;848 D#3 2 0;852 A#2 6 0;858 C3 2 0;860 C#3 4 0;864 C3 4 0;868 G3 2 0;870 D#3 4 0;874 G3 2 0;876 D#3 4 0;880 F3 2 0;884 A#2 4 0;888 C#3 2 0;890 C3 2 0;892 C#3 4 0;896 C3 4 0;900 G3 2 0;902 D#3 4 0;906 G3 2 0;908 F3 4 0;912 D#3 2 0;916 A#2 6 0;922 C3 2 0;924 C#3 4 0;928 C3 4 0;932 G3 2 0;934 D#3 4 0;938 G3 2 0;940 D#3 4 0;944 F3 2 0;948 A#2 4 0;952 C#3 2 0;954 C3 2 0;956 C#3 4 0;960 C3 4 0;964 G3 2 0;966 D#3 4 0;970 G3 2 0;972 F3 4 0;976 D#3 2 0;980 A#2 6 0;986 C3 2 0;988 C#3 4 0;992 C3 4 0;996 G3 2 0;998 D#3 4 0;1002 G3 2 0;1004 D#3 4 0;1008 F3 2 0;1012 A#2 4 0;1016 C#3 2 0;1018 C3 2 0;1020 C#3 4 0;1024 C3 4 0;1028 G3 2 0;1030 D#3 4 0;1034 G3 2 0;1036 F3 4 0;1040 D#3 2 0;1044 A#2 6 0;1050 C3 2 0;1052 C#3 4 0;1056 C3 4 0;1060 G3 2 0;1062 D#3 4 0;1066 G3 2 0;1068 D#3 4 0;1072 F3 2 0;1076 A#2 4 0;1080 C#3 2 0;1082 C3 2 0;1084 C#3 4 0;1088 C3 4 0;1092 G3 2 0;1094 D#3 4 0;1098 G3 2 0;1100 F3 4 0;1104 D#3 2 0;1108 A#2 6 0;1114 C3 2 0;1116 C#3 4 0;1120 C3 4 0;1124 G3 2 0;1126 D#3 4 0;1130 G3 2 0;1132 D#3 4 0;1136 F3 2 0;1140 A#2 4 0;1144 C#3 2 0;1146 C3 2 0;1148 C#3 4 0'
        mySong = music(song,True,3)
        musicPlaying = True;
        
        #Run music on second thread
        musicThreadInstance = _thread.start_new_thread(musicThread, ())
        
    def close(self): #Optional, called by main.py when it must exit back to main menu
        global musicPlaying
        musicPlaying = False
    
    def tick(self): #Required, called by main.py in a loop
        start_time = utime.ticks_us()
        self.frame = self.frame + 1
        
        #Demo graphics
        self.display.fill(0)
        self.display.text(str(self.frame),2,2)
        self.display.fill_rect(self.frame % (self.display.width-1),self.frame % self.display.height,10,10,1)
        self.display.stroke_rect((self.frame+64) % (self.display.width-1),(self.frame+64) % self.display.height,10,10,1)
        self.display.stroke_rect(0,0,self.display.width,self.display.height,1)
        
        #Read joystick input and use it to scroll graphics
        joy = self.controller.readJoystick()
        if (joy[2]):
            self.display.scroll(int(joy[0]),int(joy[1]))
            
        #Render display
        self.display.show()
        
        #Wait a fixed amount of time between ticks (independent of time taken to calculate stuff in tick())
        while (utime.ticks_us() - start_time < 40000):
            pass
