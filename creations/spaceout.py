from buzzer_music import music
import utime
import _thread
import framebuf
import math

musicPlaying = False
mySong = None

def musicThread():
    global mySong
    global musicPlaying
    
    while True:
        utime.sleep(0.04)
        if (not musicPlaying):
            mySong.stop()
            del mySong
            break
        
        try:
            mySong.tick()
        except Exception:
            pass

#Optional metadata for main menu
class description:
    name = "Spaceout"
    #32x32 Horizonal - 1 bit per pixel (https://javl.github.io/image2cpp/)
    thumbnail = bytearray(b"\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x03\x80\x00\x00\x03\x80\x00\x00\x03\x80\x00\x00\x03\x80\x00\x00\x07\xc0\x00\x00\x3f\xf8\x00\x00\x3f\xf8\x02\x00\x07\xc0\x02\x00\x03\x80\x02\x00\x03\x80\x02\x00\x03\x80\x07\x00\x03\x80\x07\x00\x01\x00\x1f\xc0\x01\x03\xff\xfe\x01\x00\x1f\xc0\x01\x00\x07\x00\x00\x00\x07\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x00\x02\x00\x00\x0c\x02\x00\x00\x0c\x02\x00\x00\x1e\x00\x00\x07\xff\xf8\x00\x00\x1e\x00\x00\x00\x0c\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00")

#Required class named 'creation'
class creation:
    def __init__(self, display, controller, *args): #Required init method in creation class
        global mySong
        global musicPlaying
        self.frame = 0
        self.display = display
        self.controller = controller
        
        data = bytearray(b"\x44\x55\x55\x44\x44\x44\x44\x44\x44\x44\x44\x55\x66\x76\x66\x65\x67\x87\x66\x54\x55\x44\x44\x43\x43\x34\x45\x55\x44\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x54\x44\x44\x44\x44\x44\x44\x44\x44\x45\x56\x67\x66\x55\x55\x78\x66\x65\x55\x55\x55\x54\x54\x44\x55\x54\x43\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x56\x66\x86\x66\x55\x67\x77\x66\x65\x55\x55\x55\x55\x55\x65\x55\x43\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x44\x44\x33\x44\x34\x33\x44\x44\x44\x44\x43\x45\x67\x87\x66\x66\x68\x88\x66\x66\x66\x55\x55\x55\x66\x66\x55\x44\x44\x44\x45\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x34\x33\x43\x33\x33\x44\x44\x44\x44\x43\x44\x56\x77\x76\x66\x67\x77\x67\x76\x66\x65\x55\x65\x66\x66\x54\x44\x44\x45\x67\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x34\x33\x33\x44\x33\x43\x34\x34\x45\x78\x87\x76\x67\x88\x87\x76\x76\x66\x66\x66\x66\x65\x44\x44\x44\x46\x88\x85\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x34\x45\x67\x88\x97\x87\x78\x88\x78\x87\x76\x66\x87\x66\x55\x44\x44\x44\x45\x68\x75\x44\x44\x44\x44\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x43\x44\x44\x56\x88\xa9\x98\x78\x77\x89\x98\x88\x87\x88\x66\x54\x55\x45\x44\x44\x56\x55\x44\x44\x44\x44\x44\x43\x33\x33\x33\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x55\x68\xab\xba\x98\x89\x9a\xa9\x99\x98\x87\x65\x55\x55\x54\x44\x44\x45\x55\x54\x44\x44\x44\x44\x44\x43\x33\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x55\x67\x9b\xbb\xba\xab\xbd\xbb\xaa\x98\x86\x65\x55\x54\x54\x44\x44\x44\x45\x55\x55\x44\x45\x55\x55\x44\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x34\x56\x66\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x45\x55\x66\x8a\xbd\xdb\xbd\xdd\xdd\xbb\xa9\x86\x65\x55\x55\x55\x44\x44\x44\x45\x55\x65\x55\x55\x55\x55\x54\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x68\x99\x85\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x45\x55\x66\x78\xab\xdd\xdd\xdd\xdd\xdb\xa8\x76\x66\x55\x55\x55\x54\x54\x44\x44\x55\x66\x66\x55\x66\x66\x55\x54\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x8b\xdd\x96\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x55\x56\x66\x89\xad\xdd\xdd\xdd\xdd\xdb\xa9\x87\x66\x55\x55\x55\x55\x54\x44\x44\x45\x66\x66\x76\x77\x87\x66\x65\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x46\x9d\xdd\xa6\x53\x33\x33\x33\x33\x33\x33\x33\x33\x34\x34\x44\x44\x44\x44\x55\x66\x68\x88\xab\xdd\xdd\xdd\xdd\xdd\xb9\x88\x66\x65\x55\x55\x55\x44\x44\x44\x45\x56\x77\x87\x89\x89\x87\x76\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x9d\xdd\x86\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x55\x56\x68\x89\xab\xdd\xdd\xdd\xdd\xdd\xba\x98\x67\x66\x55\x55\x54\x44\x44\x44\x44\x56\x78\x99\x9a\xaa\x98\x86\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x45\x68\x98\x65\x43\x33\x33\x33\x33\x33\x33\x33\x34\x33\x44\x44\x44\x44\x44\x55\x56\x68\x89\xbd\xdd\xdd\xdd\xdd\xdd\xba\x98\x76\x65\x55\x55\x44\x44\x44\x44\x45\x56\x78\x9b\xbd\xdd\xa8\x76\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x66\x54\x43\x33\x44\x43\x43\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x55\x56\x68\x9a\xbd\xdd\xdd\xdd\xdd\xdd\xbb\x98\x66\x55\x54\x44\x44\x44\x44\x44\x45\x56\x78\xad\xdd\xdd\xb9\x76\x55\x54\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x54\x44\x43\x33\x44\x44\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x45\x55\x66\x68\x8a\xad\xdd\xdd\xdd\xdd\xdd\xba\x98\x76\x65\x55\x54\x44\x44\x44\x44\x55\x66\x68\xbd\xdd\xdd\xd9\x87\x65\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x54\x44\x43\x33\x33\x33\x33\x34\x44\x44\x45\x55\x55\x55\x66\x68\x89\xab\xdd\xdd\xdd\xdd\xdd\xba\x88\x76\x66\x55\x55\x44\x44\x44\x44\x56\x66\x7a\xdd\xdd\xdd\xda\x87\x66\x55\x44\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x65\x44\x33\x33\x33\x33\x33\x33\x44\x44\x55\x55\x55\x56\x66\x67\x88\xab\xdd\xdd\xdd\xdd\xdd\xba\x98\x76\x66\x55\x55\x54\x44\x44\x44\x56\x68\x89\xbd\xdd\xdd\xda\x87\x66\x55\x44\x43\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x65\x44\x33\x33\x33\x33\x33\x34\x44\x44\x55\x55\x55\x55\x55\x66\x78\x9b\xbd\xdd\xdd\xdb\xdd\xba\x88\x76\x55\x55\x55\x55\x54\x44\x44\x55\x67\x78\xad\xdd\xdd\xb9\x87\x65\x55\x44\x44\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x65\x44\x43\x33\x33\x33\x33\x34\x44\x44\x45\x45\x55\x55\x55\x56\x68\x9a\xba\xbb\xba\xaa\xbb\xba\x98\x76\x55\x55\x55\x55\x45\x44\x44\x55\x56\x68\x9a\xdd\xdb\x98\x86\x65\x45\x54\x44\x43\x33\x33\x33\x33\x34\x44\x43\x34\x44\x33\x33\x43\x43\x33\x33\x33\x33\x43\x85\x54\x43\x33\x33\x33\x33\x34\x44\x44\x44\x44\x45\x55\x55\x56\x68\x99\x99\x9a\xa9\xa9\x9a\xaa\xb8\x86\x65\x55\x55\x54\x54\x44\x44\x44\x56\x68\x89\xa9\x99\x99\x86\x65\x44\x44\x45\x44\x33\x33\x33\x33\x34\x44\x44\x44\x44\x34\x34\x44\x44\x33\x33\x33\x44\x44\x86\x54\x43\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x44\x55\x56\x88\x88\x87\x88\x88\x88\x78\x99\xa9\x86\x65\x55\x45\x44\x44\x44\x44\x44\x56\x66\x68\x87\x86\x78\x86\x65\x54\x44\x44\x54\x44\x33\x33\x33\x34\x44\x44\x44\x44\x44\x44\x44\x44\x44\x34\x44\x44\x44\x76\x54\x33\x33\x33\x33\x33\x33\x43\x44\x44\x44\x44\x54\x55\x56\x77\x66\x76\x77\x87\x77\x66\x88\x9a\x87\x76\x55\x54\x44\x44\x44\x34\x44\x45\x66\x66\x66\x76\x66\x66\x65\x54\x43\x44\x45\x54\x43\x33\x33\x43\x44\x54\x54\x44\x44\x45\x44\x44\x44\x44\x44\x44\x44\x75\x54\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x44\x44\x45\x66\x66\x66\x66\x66\x66\x66\x66\x66\x78\x98\x76\x55\x54\x44\x44\x44\x34\x44\x55\x55\x55\x65\x55\x55\x66\x66\x54\x44\x44\x44\x55\x44\x33\x34\x44\x44\x55\x55\x55\x55\x55\x55\x55\x44\x44\x55\x54\x44\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x56\x66\x55\x55\x55\x66\x66\x55\x55\x55\x67\x78\x76\x65\x45\x44\x44\x34\x34\x44\x45\x44\x44\x54\x44\x44\x45\x56\x65\x44\x44\x44\x45\x54\x34\x43\x43\x44\x45\x56\x55\x55\x55\x66\x65\x55\x55\x55\x44\x44\x65\x44\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x45\x56\x65\x54\x44\x55\x55\x55\x55\x55\x44\x56\x68\x77\x65\x44\x44\x44\x34\x34\x44\x44\x44\x44\x44\x44\x33\x34\x45\x65\x54\x44\x44\x45\x55\x44\x44\x34\x44\x45\x56\x66\x66\x66\x66\x66\x55\x56\x55\x44\x44\x55\x54\x43\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x56\x66\x55\x44\x44\x55\x55\x55\x55\x55\x44\x45\x66\x68\x66\x54\x44\x44\x44\x34\x44\x33\x33\x34\x44\x43\x33\x33\x44\x55\x54\x44\x44\x44\x55\x54\x44\x44\x44\x55\x56\x66\x66\x66\x77\x77\x66\x66\x65\x55\x55\x44\x44\x43\x33\x33\x33\x33\x33\x33\x34\x44\x44\x45\x66\x65\x44\x44\x44\x45\x55\x44\x45\x44\x44\x44\x55\x66\x66\x64\x43\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x55\x55\x44\x44\x45\x55\x56\x66\x77\x77\x88\x88\x78\x66\x65\x56\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x34\x44\x45\x55\x66\x54\x44\x44\x44\x45\x44\x44\x44\x44\x44\x44\x44\x56\x66\x65\x44\x43\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x45\x56\x55\x44\x45\x55\x56\x66\x88\x89\x9a\x99\x87\x66\x66\x66\x54\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x44\x45\x56\x55\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x56\x66\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x45\x56\x66\x55\x55\x56\x66\x67\x89\xaa\xdd\xda\x88\x76\x66\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x45\x65\x54\x33\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x45\x66\x55\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x56\x66\x66\x55\x56\x66\x88\x89\xbd\xdd\xdd\x98\x77\x77\x65\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x55\x55\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x45\x66\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x45\x66\x67\x66\x66\x67\x88\x8a\xdd\xdd\xdd\xb9\x87\x76\x64\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x54\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x45\x56\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x55\x66\x68\x76\x66\x77\x88\x9b\xdd\xdd\xdd\xda\x98\x76\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x45\x55\x44\x43\x34\x43\x43\x34\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x55\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x45\x45\x56\x68\x88\x77\x78\x89\xab\xdd\xdd\xdd\xda\x98\x86\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x45\x44\x43\x43\x34\x33\x33\x34\x44\x43\x34\x34\x34\x34\x33\x44\x44\x43\x34\x45\x55\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x45\x45\x55\x68\x88\x88\x88\x99\xab\xdd\xdd\xdd\xba\x88\x66\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x33\x33\x33\x33\x33\x33\x34\x43\x43\x43\x33\x33\x33\x44\x43\x43\x44\x34\x44\x55\x53\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x45\x45\x55\x56\x88\x99\x89\x9a\xbb\xdd\xdd\xdb\xaa\x88\x66\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x43\x43\x33\x33\x33\x33\x34\x33\x33\x44\x43\x33\x33\x45\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x55\x55\x56\x68\x99\xaa\xab\xbb\xbb\xdb\xbb\xa9\x86\x66\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x44\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x55\x55\x56\x68\x8a\xab\xbd\xdd\xdd\xdb\xba\x98\x86\x66\x55\x54\x33\x33\x33\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x34\x34\x43\x33\x33\x33\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x45\x55\x55\x66\x68\x89\xbd\xbd\xdd\xdd\xdb\xb9\x98\x78\x66\x55\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x34\x34\x44\x44\x44\x45\x55\x65\x66\x78\x8a\xbd\xdd\xdd\xdd\xdd\xb9\x87\x78\x66\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x34\x34\x44\x44\x44\x45\x55\x55\x66\x68\x9a\xbd\xdd\xdd\xdd\xdd\xa9\x87\x68\x67\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x43\x33\x33\x34\x33\x33\x33\x34\x34\x44\x44\x44\x44\x45\x55\x67\x78\x8a\xbd\xdd\xdd\xdd\xdd\xb9\x88\x66\x66\x66\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x34\x33\x33\x33\x44\x44\x44\x44\x44\x55\x55\x67\x89\x9b\xbd\xdd\xdd\xdd\xdd\xba\x98\x66\x66\x66\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x33\x43\x34\x34\x44\x44\x44\x45\x45\x45\x55\x67\x79\xab\xdd\xdd\xdd\xdd\xdd\xdb\xa9\x76\x65\x56\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x45\x45\x55\x55\x66\x88\x9b\xbd\xdd\xdd\xdd\xdd\xba\xa9\x86\x65\x56\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x55\x55\x55\x66\x68\x8a\xbb\xdd\xdd\xdd\xdd\xba\x99\x86\x66\x55\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x44\x44\x44\x44\x44\x45\x55\x55\x55\x66\x68\x89\xab\xbd\xdd\xdd\xdd\xba\x98\x86\x66\x55\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x45\x55\x55\x55\x55\x66\x78\xaa\xaa\xbb\xba\xab\xaa\x88\x66\x65\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x44\x45\x55\x55\x66\x88\x99\x99\xba\xb9\x99\x99\x98\x66\x65\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x44\x55\x55\x56\x66\x77\x77\x88\x99\x98\x88\x89\x98\x76\x65\x55\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x45\x55\x55\x56\x67\x76\x76\x67\x88\x77\x66\x88\x89\x86\x65\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x55\x55\x55\x66\x66\x66\x65\x66\x78\x66\x66\x66\x88\x88\x66\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x45\x55\x56\x66\x66\x55\x55\x56\x66\x66\x66\x66\x67\x78\x76\x65\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x33\x33\x44\x44\x44\x44\x55\x66\x76\x65\x55\x55\x55\x65\x55\x55\x66\x66\x76\x86\x65\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x34\x33\x33\x44\x45\x54\x45\x56\x66\x66\x55\x55\x55\x55\x55\x55\x55\x56\x66\x66\x66\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x34\x45\x55\x55\x56\x76\x65\x55\x55\x55\x55\x55\x55\x55\x55\x55\x56\x66\x66\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x45\x55\x56\x66\x66\x65\x55\x55\x55\x55\x55\x55\x55\x55\x55\x55\x55\x66\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x55\x66\x66\x65\x55\x55\x55\x55\x55\x55\x55\x55\x55\x55\x55\x45\x56\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x44\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x44\x44\x44\x46\x68\x66\x65\x56\x66\x65\x55\x55\x55\x55\x55\x44\x44\x45\x45\x45\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x33\x33\x33\x33\x33\x33\x33\x33\x45\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x34\x44\x44\x46\x68\x86\x65\x66\x66\x66\x66\x56\x55\x55\x54\x44\x44\x45\x54\x44\x45\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x44\x44\x44\x55\x66\x66\x66\x66\x66\x87\x66\x66\x66\x55\x44\x44\x44\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x34\x44\x45\x55\x66\x66\x76\x88\x87\x87\x78\x66\x65\x54\x44\x44\x44\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x34\x44\x55\x65\x55\x56\x77\x88\x88\x98\x88\x77\x66\x54\x44\x44\x44\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x45\x55\x55\x45\x56\x68\x9a\xaa\xbb\xa9\x87\x66\x54\x44\x44\x43\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x34\x45\x55\x55\x55\x56\x78\x9a\xbb\xdd\xba\x88\x66\x45\x44\x44\x34\x44\x44\x34\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x54\x43\x33\x33\x33\x33\x43\x43\x43\x33\x33\x33\x34\x34\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x44\x45\x54\x44\x45\x56\x88\x9b\xdd\xdd\xdb\x86\x66\x54\x44\x44\x34\x34\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x55\x54\x33\x33\x44\x44\x44\x44\x44\x43\x43\x44\x44\x44\x44\x44\x43\x34\x45\x44\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x55\x66\x78\x9d\xdd\xdd\xdd\x97\x66\x54\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x45\x55\x44\x33\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x43\x45\x55\x43\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x56\x66\x78\xad\xdd\xdd\xdd\xa8\x86\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x54\x43\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x45\x54\x43\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x56\x67\x78\xad\xdd\xdd\xdd\xa9\x86\x65\x44\x44\x43\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x55\x65\x54\x44\x44\x44\x44\x44\x44\x44\x44\x45\x54\x44\x44\x45\x55\x44\x33\x33\x33\x33\x33\x33\x34\x44\x44\x43\x44\x44\x55\x66\x88\xad\xdd\xdd\xdb\xa8\x86\x65\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x66\x54\x44\x44\x45\x55\x55\x44\x44\x44\x55\x54\x44\x44\x55\x54\x43\x33\x33\x33\x33\x33\x33\x44\x44\x44\x33\x44\x44\x45\x66\x78\x9a\xdd\xdd\xba\xa9\x66\x55\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x66\x66\x44\x44\x55\x55\x55\x55\x44\x55\x55\x55\x44\x45\x65\x54\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x44\x33\x34\x44\x56\x67\x88\xaa\xaa\xa9\xa8\x76\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x66\x65\x44\x55\x55\x56\x65\x55\x55\x55\x54\x55\x56\x65\x44\x33\x33\x33\x33\x33\x33\x34\x44\x34\x34\x43\x33\x34\x34\x45\x68\x77\x88\x98\x88\x88\x66\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x66\x86\x65\x55\x66\x66\x66\x65\x66\x65\x55\x56\x66\x54\x44\x44\x43\x33\x33\x33\x33\x43\x34\x33\x33\x33\x33\x33\x34\x45\x66\x66\x67\x77\x66\x67\x66\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x43\x34\x56\x87\x86\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x54\x44\x44\x43\x33\x33\x33\x33\x43\x43\x33\x33\x33\x33\x33\x34\x45\x66\x66\x67\x66\x55\x66\x66\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x44\x56\x77\x88\x66\x67\x88\x88\x77\x66\x66\x66\x86\x65\x44\x44\x44\x44\x33\x33\x33\x33\x43\x43\x33\x33\x33\x33\x33\x44\x55\x55\x45\x56\x66\x54\x54\x56\x66\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x45\x67\x89\x88\x77\x88\x89\x88\x76\x76\x88\x86\x65\x44\x44\x44\x34\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x34\x55\x55\x44\x44\x45\x66\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x45\x66\x79\x99\x88\x89\x9a\x98\x88\x88\x78\x86\x55\x54\x44\x44\x34\x34\x34\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x33\x34\x44\x44\x44\x44\x44\x55\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x45\x56\x68\xaa\x99\xaa\xab\xaa\x99\x99\x88\x66\x55\x54\x44\x44\x44\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x44\x44\x33\x33\x44\x34\x44\x44\x43\x34\x44\x55\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x44\x44\x55\x55\x67\x9a\xba\xbb\xbb\xbb\xba\xb9\x86\x65\x55\x54\x44\x44\x44\x44\x44\x34\x33\x33\x33\x33\x33\x33\x34\x44\x33\x33\x33\x33\x34\x34\x44\x44\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x55\x55\x67\x8a\xbb\xdb\xdd\xdd\xdb\xaa\x86\x66\x55\x45\x54\x45\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x33\x44\x33\x44\x44\x33\x33\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x55\x56\x68\x8a\xbd\xdd\xdd\xdd\xdb\xba\x86\x66\x55\x55\x55\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x44\x44\x44\x44\x45\x55\x66\x68\x99\xbd\xdd\xdd\xdd\xdd\xba\x88\x66\x65\x55\x54\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x44\x44\x44\x44\x45\x44\x45\x55\x66\x78\x8a\xbd\xdd\xdd\xdd\xdd\xba\x98\x76\x65\x55\x55\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x43\x44\x44\x44\x44\x44\x54\x54\x55\x55\x66\x79\x9a\xdd\xdd\xdd\xdd\xdd\xba\x98\x86\x55\x55\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x34\x44\x44\x34\x44\x44\x54\x54\x54\x55\x55\x56\x66\x89\xab\xdd\xdd\xdd\xdd\xdd\xbb\x98\x86\x65\x55\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x34\x44\x44\x45\x45\x45\x55\x55\x56\x66\x89\x9a\xbd\xdd\xdd\xdd\xdd\xdb\x98\x76\x65\x55\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x45\x44\x44\x55\x55\x55\x56\x66\x88\x99\xbd\xdd\xdd\xdd\xdd\xda\x98\x86\x65\x55\x54\x44\x43\x43\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x34\x44\x44\x33\x44\x44\x44\x44\x55\x55\x55\x55\x56\x66\x87\x89\xbd\xdd\xdd\xdd\xdd\xda\x98\x66\x65\x55\x54\x44\x44\x43\x33\x33\x33\x33\x34\x43\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x43\x33\x44\x43\x43\x43\x44\x44\x45\x54\x55\x55\x55\x55\x66\x66\x68\x89\xaa\xbb\xdd\xdd\xbd\xda\x98\x66\x65\x55\x55\x44\x44\x44\x33\x33\x33\x33\x33\x44\x45\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x34\x44\x44\x44\x44\x44\x43\x44\x44\x45\x55\x55\x55\x55\x55\x55\x66\x66\x66\x89\xaa\xaa\xab\xba\xaa\xba\xa8\x76\x55\x55\x54\x44\x44\x44\x33\x33\x33\x33\x33\x44\x68\x75\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x54\x43\x33\x34\x44\x44\x44\x44\x44\x44\x44\x44\x55\x45\x55\x55\x55\x55\x56\x66\x55\x68\x88\x98\x89\x9a\x99\x88\x9a\xa9\x86\x65\x44\x44\x44\x44\x44\x33\x33\x33\x33\x44\x46\x8a\xa6\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x43\x33\x44\x44\x44\x44\x44\x44\x44\x44\x45\x55\x55\x55\x55\x55\x55\x66\x65\x55\x67\x87\x87\x68\x89\x88\x78\x88\x99\x97\x66\x54\x43\x44\x44\x44\x33\x33\x33\x33\x34\x35\x88\x85\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x54\x43\x34\x44\x44\x44\x44\x44\x44\x45\x55\x55\x55\x55\x55\x55\x56\x66\x65\x56\x67\x86\x66\x67\x77\x86\x66\x66\x89\x88\x76\x54\x44\x44\x44\x33\x33\x33\x33\x33\x33\x34\x55\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x54\x34\x44\x44\x45\x45\x44\x44\x45\x55\x55\x55\x55\x55\x55\x56\x65\x55\x56\x66\x65\x55\x56\x66\x66\x66\x56\x78\x88\x86\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x56\x65\x44\x44\x44\x55\x54\x54\x44\x45\x55\x55\x55\x55\x55\x56\x66\x65\x56\x67\x66\x55\x55\x56\x66\x65\x55\x55\x56\x67\x77\x65\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x66\x55\x44\x44\x55\x55\x55\x55\x55\x56\x55\x55\x55\x56\x66\x66\x55\x56\x67\x65\x45\x55\x55\x55\x55\x45\x45\x56\x66\x86\x65\x54\x34\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x66\x65\x44\x45\x55\x55\x56\x65\x55\x66\x65\x55\x55\x56\x66\x65\x56\x66\x66\x65\x45\x55\x55\x55\x54\x44\x44\x45\x56\x67\x66\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x66\x65\x55\x56\x66\x56\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x65\x55\x55\x54\x55\x54\x54\x44\x45\x45\x56\x66\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x56\x67\x76\x65\x56\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x66\x78\x65\x55\x45\x55\x54\x44\x44\x44\x54\x55\x56\x65\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x45\x68\x87\x66\x66\x66\x66\x76\x67\x66\x66\x66\x67\x86\x66\x66\x66\x66\x67\x98\x65\x55\x45\x55\x44\x44\x44\x44\x54\x44\x45\x56\x55\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x56\x88\x88\x66\x68\x87\x88\x88\x78\x66\x67\x77\x86\x66\x66\x66\x55\x67\x87\x65\x55\x54\x54\x44\x44\x44\x44\x44\x44\x44\x55\x55\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x56\x68\x99\x88\x88\x88\x99\x89\x88\x78\x88\x88\x86\x66\x66\x65\x55\x56\x65\x55\x54\x45\x44\x44\x44\x44\x44\x44\x44\x44\x44\x55\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x55\x67\x99\x98\x88\x99\x99\xa9\x88\x88\x99\x88\x67\x88\x66\x66\x55\x55\x55\x55\x54\x44\x44\x44\x44\x44\x44\x44\x44\x44\x44\x45\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x45\x66\x89\xaa\x99\xaa\xab\xaa\x99\x9a\x99\x88\x77\x86\x67\x66\x55\x55\x55\x54\x44\x44\x44\x44\x44\x44\x44\x44\x44\x43\x43\x44\x54\x54\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x45\x56\x78\x9b\xbb\xbb\xbb\xbb\xbb\xbb\xaa\x99\x98\x87\x66\x66\x55\x55\x55\x55\x44\x44\x44\x44\x44\x44\x44\x44\x43\x43\x33\x34\x44\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x45\x55\x56\x68\x9a\xbd\xbd\xdd\xdd\xdb\xbb\xbb\xbd\xb9\x87\x66\x65\x55\x55\x54\x44\x44\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x45\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x55\x56\x78\x8a\xbd\xdd\xdd\xdd\xdd\xbb\xdd\xdd\xda\x86\x66\x65\x55\x55\x55\x44\x44\x44\x44\x44\x34\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x57\x86\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x56\x66\x87\x9a\xbd\xdd\xdd\xdd\xdd\xbb\xdd\xdd\xdb\x87\x66\x65\x55\x55\x54\x54\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x8b\xa7\x43\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x56\x66\x78\x9a\xbd\xdd\xdd\xdd\xdd\xdd\xdd\xdd\xdb\x88\x66\x55\x55\x54\x44\x44\x44\x34\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x46\x8b\xb8\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x56\x67\x88\xaa\xbd\xdd\xdd\xdd\xdd\xdb\xdd\xdd\xda\x87\x66\x55\x55\x54\x44\x44\x44\x43\x43\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x45\x68\x86\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x54\x45\x56\x67\x89\xab\xbd\xdd\xdd\xdd\xdd\xdb\xdd\xdd\xb9\x88\x66\x55\x54\x44\x44\x44\x44\x43\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x45\x54\x43\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x45\x55\x56\x66\x88\xab\xbd\xdd\xdd\xdd\xdd\xdd\xbb\xba\x98\x76\x66\x55\x54\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x54\x45\x55\x55\x66\x88\x9a\xbd\xdd\xdd\xdd\xdd\xdb\xaa\x98\x87\x87\x66\x55\x54\x44\x44\x44\x44\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x55\x55\x55\x66\x88\x9a\xbd\xdd\xdd\xdd\xdd\xdb\xa9\x88\x87\x76\x66\x65\x55\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x46\x78\x65\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x55\x55\x55\x56\x68\x8a\xbd\xdd\xdd\xdd\xdd\xdb\xa8\x77\x66\x66\x66\x65\x55\x44\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x68\xbb\x86\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x55\x55\x55\x66\x67\x9a\xbb\xbb\xbd\xbb\xbb\xbb\xa8\x86\x66\x56\x66\x66\x55\x54\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x7b\xdd\xa6\x53\x33\x33\x33\x33\x33\x33\x33\x33\x33\x55\x55\x55\x55\x56\x67\x89\x99\x9a\xab\xba\xaa\xab\xa9\x88\x66\x55\x65\x55\x55\x54\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x7b\xdd\x96\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x54\x55\x55\x55\x55\x67\x98\x88\x79\x9a\x98\x88\x9a\xaa\x98\x66\x55\x55\x55\x55\x44\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x68\xaa\x85\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x44\x45\x55\x56\x67\x87\x76\x78\x89\x87\x86\x88\x9a\x98\x66\x65\x44\x55\x55\x44\x44\x44\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x45\x66\x54\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x54\x44\x55\x56\x78\x66\x66\x68\x77\x78\x66\x66\x89\x98\x86\x65\x55\x44\x44\x44\x44\x43\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x55\x43\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x55\x44\x45\x67\x66\x65\x55\x66\x66\x66\x66\x66\x67\x88\x87\x65\x54\x44\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x44\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x45\x56\x66\x65\x55\x55\x54\x55\x55\x65\x66\x66\x68\x87\x65\x54\x44\x44\x44\x44\x33\x33\x33\x33\x33\x33\x34\x44\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x44\x55\x66\x65\x44\x44\x44\x54\x55\x55\x55\x55\x56\x66\x87\x76\x55\x44\x44\x34\x44\x43\x33\x33\x33\x33\x34\x45\x44\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x45\x56\x56\x44\x44\x44\x44\x55\x45\x45\x56\x55\x56\x67\x66\x88\x65\x55\x44\x44\x44\x44\x43\x33\x33\x43\x45\x55\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x44\x45\x65\x54\x44\x44\x44\x44\x44\x44\x44\x55\x66\x56\x66\x66\x78\x75\x55\x55\x54\x44\x44\x43\x33\x33\x44\x45\x54\x43\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x33\x34\x33\x33\x33\x33\x33\x33\x33\x33\x33")
        self.fbuf = framebuf.FrameBuffer(data, 128, 128, framebuf.GS4_HMSB) #framebuf.GS4_HMSB
        
        self.paddleWidth = 24
        self.paddlePos = int(self.display.width/2)
        self.ballPos = [self.paddlePos + 4, self.display.height - 4]
        self.speed = 7
        self.ballVel = [0, 0]
        self.bricks = []
        self.invertTimer = 0
        self.deathTimer = 0

        map = bytearray(b"\xc0\x00\xff\x00\xff\xfc\xfa\xaf\xf9\x6f\x09\x60\x0a\xa0\x00\x00\x33\x33\x33\x33\xcc\xcc\xcc\xcc\x00\x00\x3f\xfc\x3a\xac\x3a\xac\x3f\xfc\x00\x00\xaa\xaa\x00\x00\xcf\xcf\xcf\xcf\xcf\xcf\x00\x00\xff\xff")
        self.bricksRemaining = 0

        for y in range(int(len(map) / 2)):
            self.bricks.append([])
            for x in range(8):
                currentByte = map[(y * 2) + int(x / 4)]
                val = 4 - (currentByte >> 6 - ((x % 4) * 2)) & 0b11
                if (val == 4):
                    val = 0
                if (val > 0):
                    self.bricksRemaining = self.bricksRemaining + 1
                self.bricks[y].append(0 if val == 4 else val)

        self.mapHeight = round(len(map) / 2)
        self.vert = - self.mapHeight * 8 + 32
        del map
        
        #Init music
        song = '124 A#5 4 22;0 B4 1 26;8 D5 1 26;16 F#5 1 26;24 E5 1 26;32 B5 1 26;36 F#5 1 26;40 D5 1 26;48 F#5 1 26;56 C#5 1 26;4 F#5 1 41;12 F#5 1 41;20 F#5 1 41;28 E5 1 41;28 E5 1 41;36 C#5 1 41;44 A4 1 41;52 C#5 1 41;0 B2 1 29;12 B2 1 29;24 A2 1 29;28 G#2 1 29;32 G2 1 29;20 B2 1 29;40 G2 1 29;48 F#2 1 29;56 A#2 1 29;4 F#3 1 29;6 F#4 1 32;5 D4 1 32;4 B3 1 32;7 D4 1 32;8 B3 1 32;9 D4 1 32;10 F#4 1 32;11 D4 1 32;12 F#4 1 32;13 A4 1 32;14 B4 1 32;15 A4 1 32;16 F#4 1 32;17 A4 1 32;18 C#5 1 32;19 A4 1 32;20 F#4 1 32;21 A4 1 32;22 E4 1 32;23 G#4 1 32;24 E4 1 32;25 G#4 1 32;26 B4 1 32;27 G#4 1 32;28 E4 1 32;29 G#4 1 32;30 B4 1 32;31 F#4 1 32;38 F#4 1 32;37 D4 1 32;36 B3 1 32;39 D4 1 32;40 B3 1 32;41 D4 1 32;42 F#4 1 32;43 D4 1 32;44 F#4 1 32;45 A4 1 32;46 B4 1 32;47 A4 1 32;48 F#4 1 32;49 A4 1 32;50 C#5 1 32;51 A4 1 32;52 F#4 1 32;53 A4 1 32;54 E4 1 32;55 G#4 1 32;56 E4 1 32;57 G#4 1 32;58 B4 1 32;59 G#4 1 32;60 E4 1 32;61 G#4 1 32;62 B4 1 32;63 F#4 1 32;32 B3 1 32;60 A#4 1 41;64 B4 1 26;72 D5 1 26;80 F#5 1 26;88 E5 1 26;96 B5 1 26;100 F#5 1 26;104 D5 1 26;112 F#5 1 26;120 C#5 1 26;68 F#5 1 41;76 F#5 1 41;84 F#5 1 41;92 E5 1 41;92 E5 1 41;100 C#5 1 41;108 A4 1 41;116 C#5 1 41;64 B2 1 29;76 B2 1 29;88 A2 1 29;92 G#2 1 29;96 G2 1 29;84 B2 1 29;104 G2 1 29;112 F#2 1 29;120 A#2 1 29;68 F#3 1 29;64 C#6 8 22;72 B5 16 22;88 F#6 4 22;92 E6 4 22;96 F#6 4 22;100 B5 12 22;116 B5 4 22;120 A5 4 22;70 F#4 1 32;69 D4 1 32;68 B3 1 32;71 D4 1 32;72 B3 1 32;73 D4 1 32;74 F#4 1 32;75 D4 1 32;76 F#4 1 32;77 A4 1 32;78 B4 1 32;79 A4 1 32;80 F#4 1 32;81 A4 1 32;82 C#5 1 32;83 A4 1 32;84 F#4 1 32;85 A4 1 32;86 E4 1 32;87 G#4 1 32;88 E4 1 32;89 G#4 1 32;90 B4 1 32;91 G#4 1 32;92 E4 1 32;93 G#4 1 32;94 B4 1 32;95 F#4 1 32;102 F#4 1 32;101 D4 1 32;100 B3 1 32;103 D4 1 32;104 B3 1 32;105 D4 1 32;106 F#4 1 32;107 D4 1 32;108 F#4 1 32;109 A4 1 32;110 B4 1 32;111 A4 1 32;112 F#4 1 32;113 A4 1 32;114 C#5 1 32;115 A4 1 32;116 F#4 1 32;117 A4 1 32;118 E4 1 32;119 G#4 1 32;120 E4 1 32;121 G#4 1 32;122 B4 1 32;123 G#4 1 32;124 E4 1 32;125 G#4 1 32;126 B4 1 32;127 F#4 1 32;96 B3 1 32;124 A#4 1 41'
        mySong = music(song,True,4)
        musicPlaying = True
        
        #Run music on second thread
        musicThreadInstance = _thread.start_new_thread(musicThread, ())
        
        self.display.contrast(255)
        
    def close(self): #Optional, called by main.py when it must exit back to main menu
        global musicPlaying
        musicPlaying = False
        self.display.invert(0)
        self.display.contrast(255)
    
    def physics(self):
        global musicPlaying
        prePos = self.ballPos
        self.ballPos = [self.ballPos[0] + self.ballVel[0], self.ballPos[1] + self.ballVel[1]]
        hit = False
        #right
        if (self.ballPos[0] > self.display.width - 2):
            self.ballPos[0] = self.display.width - 2 - abs(self.ballVel[0])
            self.ballVel[0] = -self.ballVel[0]
            hit = True
            
        #left
        if (self.ballPos[0] < 2):
            self.ballPos[0] = 2 + abs(self.ballVel[0])
            self.ballVel[0] = -self.ballVel[0]
            hit = True
        
        #top
        if (self.ballPos[1] < 2):
            self.ballPos[1] = 2 + abs(self.ballVel[1])
            self.ballVel[1] = -self.ballVel[1]
            hit = True
            
        #paddle
        if ((self.ballPos[1] > self.display.height - 8) and (abs(self.paddlePos - self.ballPos[0]) < int(self.paddleWidth / 2))):
            self.ballPos[1] = self.display.height - 8 - abs(self.ballVel[1])
            self.ballVel[1] = -self.ballVel[1]
            hit = True
            #direction of bounce
            p1 = [self.paddlePos, 5]
            p2 = [self.ballPos[0], 0]
            #calculate angle from p1 to p2
            angle = math.atan2(p2[1] - p1[1], p2[0] - p1[0])
            #turn angle into vector
            self.ballVel[0] = math.cos(angle) * 2
            self.ballVel[1] = math.sin(angle) * 2
            #normalize vector
            length = math.sqrt((self.ballVel[0] * self.ballVel[0]) + (self.ballVel[1] * self.ballVel[1]))
            self.ballVel[0] = self.ballVel[0] / length
            self.ballVel[1] = self.ballVel[1] / length
            #scale vector by self.speed
            self.ballVel[0] = int(self.ballVel[0] * self.speed)
            self.ballVel[1] = int(self.ballVel[1] * self.speed)

            # if (self.paddlePos - self.ballPos[0] > 0):
            #     self.ballVel[0] = -abs(self.ballVel[0])
            # else:
            #     self.ballVel[0] = abs(self.ballVel[0])
            self.ballPos[0] = prePos[0] + self.ballVel[0]
            
        #bricks
        brick = [int(self.ballPos[0] / 16), int(self.ballPos[1] / 8) + round((self.mapHeight - 24 - self.vert) / 8)]
        if (brick[1] < len(self.bricks) and brick[0] < len(self.bricks[0])):
            if (self.bricks[brick[1]][brick[0]] > 0):
                self.display.fill_rect(brick[0] * 16, brick[1] * 8 + round(self.vert), 16, 8, 1)
                #utime.sleep(1)
                
                self.bricks[brick[1]][brick[0]] = self.bricks[brick[1]][brick[0]] - 1
                if (self.bricks[brick[1]][brick[0]] == 0):
                    self.bricksRemaining = self.bricksRemaining - 1
                self.display.invert(1)
                self.invertTimer = 5
                hit = True
                #find the side hit
                middle = [(brick[0] * 16) + 8, (brick[1] * 8) + 4]
                delta = [middle[0] - prePos[0], (middle[1] - prePos[1]) * 2]
                if (abs(delta[0]) > abs(delta[1])):
                    #print("side")
                    self.ballVel[0] = -self.ballVel[0]
                else:
                    #print("top or bottom")
                    self.ballVel[1] = -self.ballVel[1]
        if (hit):
            try:
                mySong.arpnote = 0
                mySong.playingNotes = ["E2"]
                mySong.playingDurations = [2]
            except Exception:
                pass
            
        #ball fall out of bottom
        if (self.ballPos[1] > self.display.height):
            self.ballVel = [0, 0]
            self.deathTimer = 40
            self.display.contrast(0)
            
    
    def drawBall(self):
        # self.display.fill_rect(self.ballPos[0] - 2, self.ballPos[1] - 2, 4, 4, 1)
        self.display.ellipse(self.ballPos[0], self.ballPos[1], 2, 2, 1, True)
    
    def drawPaddle(self):
        self.display.fill_rect(self.paddlePos - int(self.paddleWidth / 2), self.display.height - 6, self.paddleWidth, 5, 0)
        self.display.stroke_rect(self.paddlePos - int(self.paddleWidth / 2), self.display.height - 6, self.paddleWidth, 5, 1)
        self.display.ellipse(self.paddlePos - int(self.paddleWidth / 2), self.display.height - 4, 2, 2, 0, True, 0b0110)
        self.display.ellipse(self.paddlePos - int(self.paddleWidth / 2), self.display.height - 4, 2, 2, 1, False, 0b0110)
        self.display.ellipse(self.paddlePos + int(self.paddleWidth / 2) - 1, self.display.height - 4, 2, 2, 0, True, 0b1001)
        self.display.ellipse(self.paddlePos + int(self.paddleWidth / 2) - 1, self.display.height - 4, 2, 2, 1, False, 0b1001)
        
    def movePaddle(self):
        joy = self.controller.readJoystick()
        if (joy[2]):
            self.paddlePos = self.paddlePos + int(joy[0] / 2)
            self.paddlePos = min(self.paddlePos, self.display.width - int(self.paddleWidth / 2))
            self.paddlePos = max(self.paddlePos, int(self.paddleWidth / 2))
    
    def drawBrick(self, x, y, type):
        hashVal = 0.07 + ((math.sin((20 * y * 0.51724) + (x * 0.41723) + (self.frame/ 4)) + 1) / 2.1)
        if (type == 2):
            hashVal = 1
        if (type == 3):
            hashVal = int(self.frame / 6) % 2
        self.display.fill_rect(x, y, 16, 8, hashVal)
        #self.display.stroke_rect(x, y, 16, 8, 0)
        
    def drawBricks(self):
        global musicPlaying
        for y in range(len(self.bricks)):
            if (y * 8 + self.vert > -8 and y * 8 + self.vert < self.display.height):
                for x in range(len(self.bricks[y])):
                    if (self.bricks[y][x] > 0):
                        if (y * 8 + self.vert > self.display.height - 8):
                            #lose
                            musicPlaying = False
                            utime.sleep(0.5) #Sleep to be sure other thread has ended
                            self.__init__(self.display, self.controller)

                        self.drawBrick(x * 16, y * 8 + round(self.vert), self.bricks[y][x])
        
    def tick(self): #Required, called by main.py in a loop
        global musicPlaying
        start_time = utime.ticks_us()
        self.frame = self.frame + 1
        self.vert = self.vert + 0.2

        if (self.deathTimer > 0):
            self.deathTimer = self.deathTimer - 1
            if (self.deathTimer == 0):
                self.ballPos = [self.paddlePos + 4, self.display.height - 4]
                self.display.contrast(255)

        if (self.bricksRemaining == 0):
            print("Win")
            musicPlaying = False
            utime.sleep(0.5) #Sleep to be sure other thread has ended
            raise Exception("You Win!")
        
        if (self.invertTimer > 0):
            #Background graphics
            self.display.blit(self.fbuf, 0, 0 + (self.frame % 128) - 128, 0)
            self.display.blit(self.fbuf, 0, 0 + (self.frame % 128), 0)
        else:
            self.display.fill(0)

        if (self.invertTimer > 0):
            self.frame = self.frame - 3
            self.vert = self.vert - 0.6
            self.invertTimer = self.invertTimer - 1
            if (self.invertTimer == 0):
                self.display.invert(0)
        
        if (self.deathTimer <= 0):
            self.physics()
        self.movePaddle()
        
        self.drawBricks()
        self.drawPaddle()
        if (self.deathTimer <= 0):
            self.drawBall()
            
        #Render display
        self.display.show()
        
        #Wait a fixed amount of time between ticks (independent of time taken to calculate stuff in tick())
        while (utime.ticks_us() - start_time < 40000):
            pass
